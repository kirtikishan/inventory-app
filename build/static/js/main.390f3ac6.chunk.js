(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,a){e.exports=a(727)},198:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},708:function(e,t,a){},709:function(e,t,a){},710:function(e,t,a){},727:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(56),i=a.n(r),c=(a(198),a(11)),l=a.n(c),o=a(20),u=a(27),h=a(28),p=a(30),d=a(29),m=a(31),g=a(57),v=a(185),f=a(737),E=a(735),b=a(736),y=a(58),O=(a(204),a(184)),w=a(70),k=a(729),S=a(730),C=a(731),x=a(99),A=a(732),j=(a(205),a(15)),L=a.n(j),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).selectChange=function(e){a.setState({selectValue:e.target.value})},a.onFilterChange=function(e){a.setState({filtervalue:e.target.value})},a.searchByValue=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,s,r,i,c,o,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),n=a.state,s=n.selectValue,r=n.filtervalue,i="NA",c="NA","ShopName"===s&&""!==r?(o=a.getShopId(r),i=o||"NA"):c=r,console.log("shopId",i),e.prev=8,e.next=11,a.searchAsset({assetname:""===c?"NA":c,shopcenterid:""===i?"NA":i});case 11:u=e.sent,console.log("searchAssets",u),a.setState({assets:u.Items,isLoading:!1}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),alert(e.t0),a.setState({isLoading:!1});case 21:case"end":return e.stop()}},e,null,[[8,17]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!0,assets:[],shops:[],selectValue:"AssetName",filtervalue:""},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.shops();case 5:return t=e.sent,e.next=8,this.assets();case 8:a=e.sent,this.setState({assets:a,shops:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0);case 15:this.setState({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"assets",value:function(){return j.API.get("assets","/assets")}},{key:"shops",value:function(){return j.API.get("shop","/shop")}},{key:"getShopName",value:function(e){for(var t=this.state.shops,a=0;a<t.length;a++)if(t[a].centerid===e)return t[a].shopname}},{key:"getShopId",value:function(e){for(var t=this.state.shops,a=0;a<t.length;a++)if(t[a].shopname===e)return t[a].centerid}},{key:"renderRows",value:function(e){var t=this;return e.map(function(e,a){return s.a.createElement("tr",null,s.a.createElement("td",null,a),s.a.createElement("td",null," ",s.a.createElement("a",{key:e.assetid,href:"/assets/".concat(e.assetid)},e.assetname)),s.a.createElement("td",null,e.assetwidth),s.a.createElement("td",null,e.assetheight),s.a.createElement("td",null,e.assetstatus),s.a.createElement("td",null,t.getShopName(e.shopcenterid)))})}},{key:"renderAssetsList",value:function(e){return s.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Asset Name"),s.a.createElement("th",null,"Asset Width"),s.a.createElement("th",null,"Asset Height"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"ShoppingCenter"))),s.a.createElement("tbody",null,this.renderRows(e)))}},{key:"renderLander",value:function(){return s.a.createElement("div",{className:"lander"},s.a.createElement("h1",null,"Inventory"),s.a.createElement("p",null,"Inventory App"),s.a.createElement("div",null,s.a.createElement(g.a,{to:"/login",className:"btn btn-info btn-lg"},"Login")))}},{key:"searchAsset",value:function(e){return j.API.post("assets","/assets/search",{body:e})}},{key:"renderAssets",value:function(){return s.a.createElement("div",{className:"assets"},s.a.createElement(S.a,null,"Your Assets"),s.a.createElement(C.a,null,s.a.createElement(x.a,null,"FilterBy:",s.a.createElement("select",{value:this.state.selectValue,onChange:this.selectChange,className:"select-filter"},s.a.createElement("option",{value:"AssetName"},"Asset Name"),s.a.createElement("option",{value:"ShopName"},"Shop Name")),s.a.createElement("input",{type:"text",id:"filtervalue",className:"filter",placeholder:"filtervalue",value:this.state.filtervalue,onChange:this.onFilterChange}),s.a.createElement(A.a,{variant:"secondary",className:"btn-class",onClick:this.searchByValue},"Search")),s.a.createElement(x.a,null,!this.state.isLoading&&this.renderAssetsList(this.state.assets)),s.a.createElement(y.LinkContainer,{key:"new",to:"/assets/new"},s.a.createElement(x.a,null,s.a.createElement("h4",null,s.a.createElement("b",null,"\uff0b")," Create a new asset"))),s.a.createElement(y.LinkContainer,{key:"new",to:"/shop/new"},s.a.createElement(x.a,null,s.a.createElement("h4",null,s.a.createElement("b",null,"\uff0b")," Create a new shop")))))}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},this.props.isAuthenticated?this.renderAssets():this.renderLander())}}]),t}(n.Component),I=(a(708),function(){return s.a.createElement("div",{className:"NotFound"},s.a.createElement("h3",null,"Click Login for user login"))}),P=a(32),D=a(733),R=a(734),T=a(738),_=a(37),H=a(190),z=(a(709),function(e){var t=e.isLoading,a=e.text,n=e.loadingText,r=e.className,i=void 0===r?"":r,c=e.disabled,l=void 0!==c&&c,o=Object(_.a)(e,["isLoading","text","loadingText","className","disabled"]);return s.a.createElement(A.a,Object.assign({className:"LoaderButton ".concat(i),disabled:l||t},o),t&&s.a.createElement(H.a,{glyph:"refresh",className:"spinning"}),t?n:a)}),F=(a(710),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,j.Auth.signIn(a.state.email,a.state.password);case 5:a.props.userHasAuthenticated(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:"",isLoading:!1},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return s.a.createElement("div",{className:"Login"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement(D.a,{controlId:"email",bsSize:"large"},s.a.createElement(R.a,null,"Email"),s.a.createElement(T.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),s.a.createElement(D.a,{controlId:"password",bsSize:"large"},s.a.createElement(R.a,null,"Password"),s.a.createElement(T.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),s.a.createElement(z,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",isLoading:this.state.isLoading,text:"Login",loadingText:"Logging in\u2026"})))}}]),t}(n.Component)),U=(a(97),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,s,r,i,c,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),n=a.state,s=n.assetname,r=n.assetwidth,i=n.assetheight,c=n.assetstatus,o=n.shopcenterid,e.prev=3,e.next=6,a.createAsset({assetname:s,assetwidth:r,assetheight:i,assetstatus:c,shopcenterid:o});case 6:a.props.history.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),alert(e.t0),a.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),a.onChange=function(e){e&&e.target.name&&a.setState(Object(P.a)({},e.target.id,e.target.value))},a.selectChange=function(e){a.setState({shopcenterid:e.target.value,shopname:e.target.value})},a.file=null,a.state={isLoading:null,shops:[],assetname:"",assetwidth:"",assetheight:"",assetstatus:"",shopcenterid:"",shopname:""},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.shops();case 5:t=e.sent,this.setState({shops:t,shopcenterid:t[0].centerid}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:this.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"shops",value:function(){return j.API.get("shop","/shop")}},{key:"createAsset",value:function(e){return j.API.post("assets","/assets",{body:e})}},{key:"getShopName",value:function(e){for(var t=this.state.shops,a=0;a<t.length;a++)if(t[a].centerid===e)return t[a].shopname}},{key:"render",value:function(){var e=this.state,t=e.assetname,a=e.assetwidth,n=e.assetheight,r=e.assetstatus,i=e.shopname,c=e.shops;return s.a.createElement("div",{className:"NewAsset"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"assetname",placeholder:"assetname",value:t,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetwidth",placeholder:"assetwidth",value:a,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetheight",placeholder:"assetheight",value:n,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetstatus",placeholder:"assetstatus",value:r,onChange:this.handleChange}),s.a.createElement("select",{value:i,onChange:this.selectChange},c.map(function(e,t){return s.a.createElement("option",{key:e.centerid,value:e.centerid},e.shopname)})),s.a.createElement(z,{block:!0,bsStyle:"primary",bsSize:"small",type:"submit",isLoading:this.state.isLoading,text:"Create",loadingText:"Creating\u2026"})))}}]),t}(n.Component)),B=a(183),V=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]);return s.a.createElement(w.a,Object.assign({},n,{render:function(e){return a.isAuthenticated?s.a.createElement(t,Object.assign({},e,a)):s.a.createElement(B.a,{to:"/login?redirect=".concat(e.location.pathname).concat(e.location.search)})}}))};var G=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("redirect");return s.a.createElement(w.a,Object.assign({},n,{render:function(e){return a.isAuthenticated?s.a.createElement(B.a,{to:""===r||null===r?"/":r}):s.a.createElement(t,Object.assign({},e,a))}}))},M=function(e){var t=e.component,a=e.props,n=Object(_.a)(e,["component","props"]);return s.a.createElement(w.a,Object.assign({},n,{render:function(e){return s.a.createElement(t,Object.assign({},e,a))}}))},W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,s,r,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),n=a.state,s=n.shopname,r=n.shopaddress,i=n.shoplocation,e.prev=3,e.next=6,a.createShop({shopname:s,shopaddress:r,shoplocation:i});case 6:a.props.history.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),alert(e.t0),a.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),a.onChange=function(e){e&&e.target.name&&a.setState(Object(P.a)({},e.target.id,e.target.value))},a.file=null,a.state={isLoading:null,shopname:"",shopaddress:"",shoplocation:""},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"createShop",value:function(e){return j.API.post("shop","/shop",{body:e})}},{key:"render",value:function(){var e=this.state,t=e.shopaddress,a=e.shoplocation,n=e.shopname;return s.a.createElement("div",{className:"NewAsset"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"shopname",placeholder:"shopname",value:n,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"shopaddress",placeholder:"shopaddress",value:t,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"shoplocation",placeholder:"shoplocation",value:a,onChange:this.handleChange}),s.a.createElement(z,{block:!0,bsStyle:"primary",bsSize:"small",type:"submit",isLoading:this.state.isLoading,text:"Create",loadingText:"Creating\u2026"})))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),n={assetname:a.state.assetname,assetheight:a.state.assetheight,assetstatus:a.state.assetstatus,assetwidth:a.state.assetwidth},e.prev=3,e.next=6,a.saveAsset(n);case 6:a.setState({isLoading:!1}),a.props.history.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),alert(e.t0),a.setState({isLoading:!1});case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.state={isLoading:null,assetname:null,assetheight:null,assetwidth:null,assetstatus:null},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAsset();case 3:t=e.sent,this.setState({assetname:t.assetname,assetheight:t.assetheight,assetwidth:t.assetwidth,assetstatus:t.assetstatus}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"getAsset",value:function(){return j.API.get("assets","/assets/".concat(this.props.match.params.id))}},{key:"saveAsset",value:function(e){return j.API.put("assets","/assets/".concat(this.props.match.params.id),{body:e})}},{key:"render",value:function(){var e=this.state,t=e.assetname,a=e.assetheight,n=e.assetwidth,r=e.assetstatus;return s.a.createElement("div",{className:"NewAsset"},t&&s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",id:"assetname",disabled:!0,placeholder:"assetname",value:t,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetwidth",placeholder:"assetwidth",value:n,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetheight",placeholder:"assetheight",value:a,onChange:this.handleChange}),s.a.createElement("input",{type:"text",id:"assetstatus",placeholder:"assetstatus",value:r,onChange:this.handleChange}),s.a.createElement(z,{block:!0,bsStyle:"primary",bsSize:"small",type:"submit",isLoading:this.state.isLoading,text:"Edit",loadingText:"Editing.."})),s.a.createElement("p",null,"you cannnot edit name, please edit other params")))}}]),t}(n.Component),Y=function(e){var t=e.childProps;return s.a.createElement(O.a,null,s.a.createElement(M,{path:"/",exact:!0,component:N,props:t}),s.a.createElement(G,{path:"/login",exact:!0,component:F,props:t}),s.a.createElement(V,{path:"/assets/new",exact:!0,component:U,props:t}),s.a.createElement(V,{path:"/assets/:id",exact:!0,component:q,props:t}),s.a.createElement(V,{path:"/shop/new",exact:!0,component:W,props:t}),s.a.createElement(w.a,{component:I}))},$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).userHasAuthenticated=function(e){a.setState({isAuthenticated:e})},a.handleLogout=function(){var e=Object(o.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Auth.signOut();case 2:a.userHasAuthenticated(!1),a.props.history.push("/login");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={isAuthenticated:!1,isAuthenticating:!0},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Auth.currentSession();case 3:this.userHasAuthenticated(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:this.setState({isAuthenticating:!1});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated,userHasAuthenticated:this.userHasAuthenticated};return!this.state.isAuthenticating&&s.a.createElement("div",{className:"App container"},s.a.createElement(f.a,{fluid:!0,collapseOnSelect:!0},s.a.createElement(f.a.Header,null,s.a.createElement(f.a.Brand,null,s.a.createElement(g.a,{to:"/"},"Inventory")),s.a.createElement(f.a.Toggle,null)),s.a.createElement(f.a.Collapse,null,s.a.createElement(E.a,{pullRight:!0},this.state.isAuthenticated?s.a.createElement(b.a,{onClick:this.handleLogout},"Logout"):s.a.createElement(n.Fragment,null,s.a.createElement(y.LinkContainer,{to:"/login"},s.a.createElement(b.a,null,"Login")))))),s.a.createElement(Y,{childProps:e}))}}]),t}(n.Component),J=Object(v.a)($);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(103),Q={REGION:"us-east-1",URL:" https://n7gqnawcrg.execute-api.us-east-1.amazonaws.com/prod"},X={REGION:"us-east-1",USER_POOL_ID:"us-east-1_3nUakUNoI",APP_CLIENT_ID:"7vqqu3olali397pgm77eukv0n2",IDENTITY_POOL_ID:"us-east-1:e47aa535-a2dd-4e02-8b17-1c19b6ed1109"};L.a.configure({Auth:{mandatorySignIn:!0,region:X.REGION,userPoolId:X.USER_POOL_ID,identityPoolId:X.IDENTITY_POOL_ID,userPoolWebClientId:X.APP_CLIENT_ID},API:{endpoints:[{name:"shop",endpoint:Q.URL,region:Q.REGION},{name:"assets",endpoint:Q.URL,region:Q.REGION}]}}),i.a.render(s.a.createElement(K.a,null,s.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t){},97:function(e,t,a){}},[[193,1,2]]]);
//# sourceMappingURL=main.390f3ac6.chunk.js.map